name: vision-tools
channels:
  - conda-forge
  - defaults

dependencies:
  # Python
  - python=3.11.*

  # Core dependencies
  - numpy<2
  - psutil
  - opencv

  # Pip dependencies
  - pip
  - pip:
      # Flask
      - flask
      - flask-sqlalchemy

      # Camera/Vision libraries
      - harvesters
      - genicam
      - robotpy-apriltag
      - depthai
      
      # ML inference and conversion
      - onnxruntime
      - onnx
      - tensorflow
      - ultralytics
      - pycoral ; sys_platform != 'win32'
      - rknn-toolkit2 ; sys_platform == 'linux' and platform_machine == 'aarch64'

      # Utilities
      - appdirs
      - reportlab
      - wmi ; sys_platform == 'win32'
      - pyudev ; sys_platform == 'linux'

      # Testing
      - pytest
      - pytest-flask
      - pytest-cov
      - pytest-mock
      - pytest-timeout

      # Code quality
      - ruff
